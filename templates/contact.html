{% include "header.html" %}
<section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
    <div class="container">
            
        <!-- Google Ad Inside the same row -->
        <div class="row">
            <div class="col-lg-8 col-12">
                <div class="col-lg-8 col-12">
                    <div class="google-auto-placed" style="width: 100%; height: auto; clear: both; text-align: center;">
                      <ins class="adsbygoogle"
                      style="display:block"
                      data-ad-client="ca-pub-xxxxxxxxxxxxxx"
                      data-ad-slot="xxxxxxxxxx"
                      data-ad-format="auto"></ins>
                   </div>
                  </div>
            </div>
        </div>
    </div>
</section>            
<section class="section-padding section-bg">
                <div class="container">
                    <div class="row">

                        <div class="col-lg-12 col-12">
                            <h3 class="mb-4 pb-2">We'd love to hear from you</h3>
                        </div>

                        <div class="col-lg-6 col-12">
                            <form id="contactForm" class="custom-form contact-form" role="form">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" name="name" id="name" class="form-control" placeholder="Name" required="">
                                            <label for="floatingInput">Name</label>
                                        </div>
                                    </div>
                            
                                    <div class="col-lg-6 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="email" name="email" id="email" pattern="[^ @]*@[^ @]*" class="form-control" placeholder="Email address" required="">
                                            <label for="floatingInput">Email address</label>
                                        </div>
                                    </div>
                            
                                    <div class="col-lg-12 col-12">
                                        <div class="form-floating">
                                            <input type="text" name="subject" id="subject" class="form-control" placeholder="Subject" required="">
                                            <label for="floatingInput">Subject</label>
                                        </div>
                            
                                        <div class="form-floating">
                                            <textarea class="form-control" id="message" name="message" placeholder="Tell me about the project"></textarea>
                                            <label for="floatingTextarea">Tell me about the project</label>
                                        </div>
                                    </div>
                            
                                    <div class="col-lg-4 col-12 ms-auto">
                                        <button type="submit" class="form-control">Submit</button>
                                    </div>
                                </div>
                            </form>
                            <script>
                                document.getElementById('contactForm').addEventListener('submit', function(event) {
                                    event.preventDefault(); // Prevent default form submission
                                
                                    var formData = new FormData(this); // Collect form data
                                    var csrfToken = formData.get('csrfmiddlewaretoken'); // Get the CSRF token from the form
                                
                                    fetch("{% url 'contact' %}", {
                                        method: 'POST',
                                        headers: {
                                            'X-CSRFToken': csrfToken, // Send the CSRF token here
                                            'Accept': 'application/json', // Specify expected response type
                                        },
                                        body: formData
                                    })
                                    .then(response => {
                                        if (!response.ok) {
                                            throw new Error('Network response was not ok: ' + response.statusText);
                                        }
                                        return response.json();
                                    })
                                    .then(data => {
                                        if (data.success) {
                                            alert("Thank you! Your message has been sent.");
                                            window.location.href = '/'; // Redirect to homepage
                                        } else {
                                            alert("There was a problem sending your message.");
                                        }
                                    })
                                    .catch(error => {
                                        console.error('Error:', error);
                                        alert("An error occurred: " + error.message);
                                    });
                                });
                                </script>
                        </div>

                        <div class="col-lg-5 col-12 mx-auto mt-5 mt-lg-0">
                            <iframe class="google-map" src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3328.5503164236084!2d73.25773671161372!3d33.46102041553099!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMzPCsDI3JzM5LjciTiA3M8KwMTUnMzIuOSJF!5e0!3m2!1sen!2s!4v1728322087556!5m2!1sen!2s" 
                             width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                            </iframe>

                            <h5 class="mt-4 mb-2">SynerSoft Technologies</h5>

                            <p> Islamabad, Pakistan</p>
                        </div>

                    </div>
                </div>
            </section>
            {% include "footer.html" %}
           